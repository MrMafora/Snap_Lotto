{% extends "base.html" %}

{% block title %}Lottery Ticket Results | Snap Lotto{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="row mb-3">
        <div class="col-12">
            <h1>Ticket Scan Results</h1>
            <p><a href="/simple-scanner" class="text-decoration-none"><i class="fas fa-arrow-left me-1"></i> Back to Scanner</a></p>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-8 mx-auto">
            <div class="card mb-4">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Your Ticket</h5>
                </div>
                <div class="card-body text-center">
                    <img src="{{ image_path }}" class="img-fluid rounded mb-3" alt="Your ticket" style="max-height: 300px;">
                    <div class="row">
                        <div class="col-md-6 mb-2">
                            <strong>Lottery Type:</strong> {{ lottery_type }}
                        </div>
                        <div class="col-md-6 mb-2">
                            <strong>Draw Number:</strong> {{ draw_number }}
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">Draw Information</h5>
                </div>
                <div class="card-body">
                    {% if lottery_results %}
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <strong>Date:</strong> {{ lottery_results.draw_date.strftime('%d %B %Y') if lottery_results.draw_date }}
                            </div>
                            <div class="col-md-6">
                                <strong>Draw #:</strong> {{ lottery_results.draw_number }}
                            </div>
                        </div>
                        
                        <h5>Winning Numbers</h5>
                        <div class="d-flex flex-wrap mb-4">
                            {% if lottery_results.numbers %}
                                {% for number in lottery_results.numbers %}
                                    <div class="lottery-ball me-2 mb-2">{{ number }}</div>
                                {% endfor %}
                                
                                {% if lottery_results.bonus_number %}
                                    <div class="lottery-ball bonus-ball me-2 mb-2">{{ lottery_results.bonus_number }}</div>
                                {% endif %}
                                
                                {% if lottery_results.powerball and 'Powerball' in lottery_results.lottery_type %}
                                    <div class="lottery-ball powerball-ball me-2 mb-2">{{ lottery_results.powerball }}</div>
                                {% endif %}
                            {% else %}
                                <p>No winning numbers available for this draw.</p>
                            {% endif %}
                        </div>
                        
                        {% if lottery_results.next_draw_date %}
                            <div class="alert alert-info">
                                <strong>Next Draw:</strong> {{ lottery_results.next_draw_date.strftime('%d %B %Y') }}
                            </div>
                        {% endif %}
                    {% else %}
                        <div class="alert alert-warning">
                            No draw information available for the selected lottery type and draw number.
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .lottery-ball {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: #f8f9fa;
        border: 2px solid #dee2e6;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
    }
    
    .bonus-ball {
        background-color: #ffc107;
        border-color: #e0a800;
    }
    
    .powerball-ball {
        background-color: #dc3545;
        border-color: #bd2130;
        color: white;
    }
</style>
{% endblock %}