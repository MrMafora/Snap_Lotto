/**
 * Button Activation Fix - Ensures visual state of buttons matches functional state
 * THIS FIXES THE CRITICAL VIEW RESULTS BUTTON ISSUE
 */

/* Enhance visibility and interaction cues for active buttons */
.btn-success.btn-pulse {
    animation: pulse 2s infinite;
    box-shadow: 0 0 0 rgba(40, 167, 69, 0.4);
    opacity: 1 !important;
    cursor: pointer !important;
    pointer-events: auto !important;
}

/* Create clear pulsing effect to indicate button is clickable */
@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.7);
    }
    70% {
        box-shadow: 0 0 0 10px rgba(40, 167, 69, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(40, 167, 69, 0);
    }
}

/* Ensure buttons that should be active are NEVER disabled by overriding inline styles */
button.btn-success[data-forced-enabled="true"] {
    opacity: 1 !important;
    cursor: pointer !important;
    pointer-events: auto !important;
    background-color: #28a745 !important;
    border-color: #28a745 !important;
    color: white !important;
}

/* Add button glow effect for additional visibility */
.btn-glow {
    position: relative;
}

.btn-glow:after {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border-radius: 30px;
    background: rgba(40, 167, 69, 0.3);
    z-index: -1;
    animation: glowing 1.5s infinite alternate;
}

@keyframes glowing {
    0% {
        opacity: 0.5;
    }
    100% {
        opacity: 0;
    }
}

/* Override any potential conflicting styles for view results button */
#view-results-btn:not([disabled]) {
    opacity: 1 !important;
    cursor: pointer !important;
    pointer-events: auto !important;
}

/* Fix iOS Safari specific button styling issues */
@supports (-webkit-touch-callout: none) {
    /* iOS only */
    #view-results-btn {
        /* Force tap events to be recognized */
        touch-action: manipulation;
        -webkit-tap-highlight-color: rgba(40, 167, 69, 0.3);
    }
    
    /* Force active state */
    #view-results-btn:not([disabled]) {
        opacity: 1 !important;
        pointer-events: auto !important;
    }
}